"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{2094:(e,t,s)=>{s.d(t,{default:()=>N});var a=s(4),r=s(8924),n=s(879),i=s(1294),d=s(1736),c=s(348),l=s(9713),o=s.n(l),u=s(3176),x=s(2442),m=s(1304);let h=(0,m.createServerReference)("00db2a408fbd6036e74d2d42086cefe72ef6d92cf3",m.callServer,void 0,m.findSourceMapURL,"signOut");var v=s(406),f=s(8347);function g(e){let{...t}=e;return(0,a.jsx)(v.bL,{"data-slot":"dropdown-menu",...t})}function p(e){let{...t}=e;return(0,a.jsx)(v.l9,{"data-slot":"dropdown-menu-trigger",...t})}function b(e){let{className:t,sideOffset:s=4,...r}=e;return(0,a.jsx)(v.ZL,{children:(0,a.jsx)(v.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function j(e){let{className:t,inset:s,variant:r="default",...n}=e;return(0,a.jsx)(v.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":r,className:(0,f.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function N(){let[e,t]=(0,u.useState)(null),[s,l]=(0,u.useState)(!0);return(0,u.useEffect)(()=>{let e=(0,x.UU)();(async()=>{var s;let{data:{session:a}}=await e.auth.getSession();t(null!==(s=null==a?void 0:a.user)&&void 0!==s?s:null),l(!1)})();let{data:{subscription:s}}=e.auth.onAuthStateChange((e,s)=>{if("SIGNED_IN"===e||"SIGNED_OUT"===e||"TOKEN_REFRESHED"===e){var a;t(null!==(a=null==s?void 0:s.user)&&void 0!==a?a:null),l(!1)}});return()=>s.unsubscribe()},[]),(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)(o(),{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"bg-blue-600 p-2 rounded-lg",children:(0,a.jsx)(n.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"Subastando.com"})]}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-8",children:(0,a.jsx)(o(),{href:"/",className:"text-gray-700 hover:text-blue-600 font-medium",children:"Subastas"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[s?(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"}):e?(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)(g,{children:[(0,a.jsx)(p,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:e.email})]})}),(0,a.jsxs)(b,{align:"end",children:[(0,a.jsx)(j,{asChild:!0,children:(0,a.jsx)(o(),{href:"/profile",children:"Mi Perfil"})}),(0,a.jsx)(j,{asChild:!0,children:(0,a.jsx)("form",{action:h,children:(0,a.jsxs)("button",{type:"submit",className:"flex items-center space-x-2 w-full",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})})})]})]})}):(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(r.$,{asChild:!0,variant:"ghost",children:(0,a.jsx)(o(),{href:"/auth/login",children:"Iniciar Sesi\xf3n"})}),(0,a.jsx)(r.$,{asChild:!0,children:(0,a.jsx)(o(),{href:"/auth/sign-up",children:"Registrarse"})})]}),(0,a.jsx)(r.$,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsxs)(o(),{href:"/admin/login",className:"flex items-center space-x-1",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Admin"})]})})]})]})})})}},2442:(e,t,s)=>{s.d(t,{UU:()=>r});var a=s(5926);function r(){return(0,a.createBrowserClient)("https://astjjzexwigycsfzcfon.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFzdGpqemV4d2lneWNzZnpjZm9uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMDAyODgsImV4cCI6MjA3MDg3NjI4OH0.JgrYxcCe9FmN-QjJ_6r9pXcrB6KAJRPX1KrKx35HZI4")}r()},6949:(e,t,s)=>{s.d(t,{E:()=>c});var a=s(4);s(3176);var r=s(1786),n=s(4552),i=s(8347);let d=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,asChild:n=!1,...c}=e,l=n?r.DX:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(d({variant:s}),t),...c})}},8347:(e,t,s)=>{s.d(t,{cn:()=>n});var a=s(5894),r=s(7399);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},8924:(e,t,s)=>{s.d(t,{$:()=>c,r:()=>d});var a=s(4);s(3176);var r=s(1786),n=s(4552),i=s(8347);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s,size:n,asChild:c=!1,...l}=e,o=c?r.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,i.cn)(d({variant:s,size:n,className:t})),...l})}},9180:(e,t,s)=>{s.d(t,{default:()=>l});var a=s(4),r=s(3176),n=s(9306),i=s(1253),d=s(6949);function c(e){let t=new Date().getTime(),s=new Date(e).getTime()-t;if(s<=0)return{days:0,hours:0,minutes:0,seconds:0,isExpired:!0};let a=Math.floor(s/864e5),r=Math.floor(s%864e5/36e5);return{days:a,hours:r,minutes:Math.floor(s%36e5/6e4),seconds:Math.floor(s%6e4/1e3),isExpired:!1}}function l(e){let{endTime:t,className:s="",showIcon:l=!0,variant:o="default",status:u}=e,x="ended"===u||"cancelled"===u,[m,h]=(0,r.useState)({days:0,hours:0,minutes:0,seconds:0,isExpired:x}),[v,f]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{if(f(!0),x){h({days:0,hours:0,minutes:0,seconds:0,isExpired:!0});return}h(c(t));let e=setInterval(()=>{h(c(t))},1e3);return()=>clearInterval(e)},[t,x]),!v)return x?"large"===o?(0,a.jsx)("div",{className:"text-center ".concat(s),children:(0,a.jsxs)("div",{className:"bg-red-100 text-red-800 px-4 py-2 rounded-lg",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-lg font-bold",children:"Finalizada"})]})}):(0,a.jsxs)("div",{className:"flex items-center ".concat(s),children:[l&&(0,a.jsx)(i.A,{className:"w-4 h-4 mr-1"}),(0,a.jsx)("span",{className:"font-medium",children:"Finalizada"})]}):null;let g=()=>{if(m.isExpired)return"Finalizada";let{days:e,hours:t,minutes:s,seconds:a}=m;return e>0?"".concat(e,"d ").concat(t,"h ").concat(s,"m"):t>0?"".concat(t,"h ").concat(s,"m ").concat(a,"s"):"".concat(s,"m ").concat(a,"s")},p=()=>{let e=!m.isExpired&&0===m.days&&m.hours<1,t=m.isExpired;return"badge"===o?{variant:t?"destructive":e?"secondary":"default",className:"".concat(s," ").concat(e?"animate-pulse":"")}:{className:"".concat(s," ").concat(t?"text-red-600":e?"text-orange-600 animate-pulse":"text-gray-700")}};if("large"===o){if(m.isExpired)return(0,a.jsx)("div",{className:"text-center ".concat(s),children:(0,a.jsxs)("div",{className:"bg-red-100 text-red-800 px-4 py-2 rounded-lg",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-lg font-bold",children:"Finalizada"})]})});let{days:e,hours:t,minutes:r,seconds:i}=m,d=0===e&&t<1;return(0,a.jsxs)("div",{className:"text-center ".concat(s),children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 ".concat(d?"animate-pulse":""),children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"D\xedas"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Horas"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Min"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow-sm border",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Seg"})]})]}),d&&!m.isExpired&&(0,a.jsxs)("div",{className:"mt-2 text-orange-600 font-medium flex items-center justify-center",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mr-1"}),"\xa1\xdaltima hora!"]})]})}if("badge"===o){let e=p();return(0,a.jsxs)(d.E,{variant:e.variant,className:e.className,children:[l&&(0,a.jsx)(i.A,{className:"w-3 h-3 mr-1"}),g()]})}let b=p();return(0,a.jsxs)("div",{className:"flex items-center ".concat(b.className),children:[l&&(0,a.jsx)(i.A,{className:"w-4 h-4 mr-1"}),(0,a.jsx)("span",{className:"font-medium",children:g()})]})}}}]);