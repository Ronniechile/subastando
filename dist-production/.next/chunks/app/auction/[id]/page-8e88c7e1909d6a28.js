(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{416:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var a=t(4);t(3176);var s=t(8347);function n(e){let{className:r,type:t,...n}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...n})}},1082:(e,r,t)=>{"use strict";t.d(r,{default:()=>x});var a=t(4),s=t(3176),n=t(6073),l=t(1938),i=t(8924),o=t(416),d=t(4574),u=t(9773),c=t(7274),m=t(1304);let f=(0,m.createServerReference)("6038e40c9d91de869584757a17a78c6868ae19f79a",m.callServer,void 0,m.findSourceMapURL,"placeBid");function p(){let{pending:e}=(0,n.useFormStatus)();return(0,a.jsx)(i.$,{type:"submit",disabled:e,className:"w-full",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Pujando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Hacer Puja"]})})}function x(e){let{auctionId:r,currentPrice:t,userId:n}=e,[u,c]=(0,s.useState)(""),[m,x]=(0,s.useActionState)(f,null);(0,l.useRouter)();let g=t+1,v=[g,g+5,g+10,g+25];return(0,s.useEffect)(()=>{if(null==m?void 0:m.success){let e=m.success.toLowerCase().includes("compra inmediata"),r=e?2e3:1500;console.log("[BidForm] Puja exitosa detectada, recargando en",r,"ms"),console.log("[BidForm] Es compra inmediata?",e);let t=setTimeout(()=>{console.log("[BidForm] Ejecutando recarga de p\xe1gina..."),window.location.href=window.location.href},r);return()=>clearTimeout(t)}},[null==m?void 0:m.success]),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("form",{action:x,className:"space-y-4",children:[(0,a.jsx)("input",{type:"hidden",name:"auctionId",value:r}),(0,a.jsx)("input",{type:"hidden",name:"userId",value:n}),(null==m?void 0:m.error)&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:m.error}),(null==m?void 0:m.success)&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 py-2 rounded text-sm",children:m.success}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(d.J,{htmlFor:"amount",children:["Tu puja (m\xednimo $",g.toFixed(2),")"]}),(0,a.jsx)(o.p,{id:"amount",name:"amount",type:"number",step:"0.01",min:g,value:u,onChange:e=>c(e.target.value),placeholder:"".concat(g.toFixed(2)),required:!0})]}),(0,a.jsx)(p,{})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Pujas r\xe1pidas:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:v.map(e=>(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>c(e.toString()),className:"text-sm",children:["$",e.toFixed(2)]},e))})]})]})}},1938:(e,r,t)=>{"use strict";var a=t(1766);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},2946:(e,r,t)=>{Promise.resolve().then(t.bind(t,4897)),Promise.resolve().then(t.bind(t,1082)),Promise.resolve().then(t.bind(t,9180)),Promise.resolve().then(t.bind(t,2094)),Promise.resolve().then(t.bind(t,4378)),Promise.resolve().then(t.t.bind(t,926,23))},4378:(e,r,t)=>{"use strict";t.d(r,{Avatar:()=>b,AvatarFallback:()=>j});var a=t(4),s=t(3176),n=t(3200),l=t(8033),i=t(1623),o=t(9334),d="Avatar",[u,c]=(0,n.A)(d),[m,f]=u(d),p=s.forwardRef((e,r)=>{let{__scopeAvatar:t,...n}=e,[l,i]=s.useState("idle");return(0,a.jsx)(m,{scope:t,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,a.jsx)(o.sG.span,{...n,ref:r})})});p.displayName=d;var x="AvatarImage";s.forwardRef((e,r)=>{let{__scopeAvatar:t,src:n,onLoadingStatusChange:d=()=>{},...u}=e,c=f(x,t),m=function(e,r){let[t,a]=s.useState("idle");return(0,i.N)(()=>{if(!e){a("error");return}let t=!0,s=new window.Image,n=e=>()=>{t&&a(e)};return a("loading"),s.onload=n("loaded"),s.onerror=n("error"),s.src=e,r&&(s.referrerPolicy=r),()=>{t=!1}},[e,r]),t}(n,u.referrerPolicy),p=(0,l.c)(e=>{d(e),c.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==m&&p(m)},[m,p]),"loaded"===m?(0,a.jsx)(o.sG.img,{...u,ref:r,src:n}):null}).displayName=x;var g="AvatarFallback",v=s.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:n,...l}=e,i=f(g,t),[d,u]=s.useState(void 0===n);return s.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(e)}},[n]),d&&"loaded"!==i.imageLoadingStatus?(0,a.jsx)(o.sG.span,{...l,ref:r}):null});v.displayName=g;var h=t(8347);function b(e){let{className:r,...t}=e;return(0,a.jsx)(p,{"data-slot":"avatar",className:(0,h.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",r),...t})}function j(e){let{className:r,...t}=e;return(0,a.jsx)(v,{"data-slot":"avatar-fallback",className:(0,h.cn)("bg-muted flex size-full items-center justify-center rounded-full",r),...t})}},4574:(e,r,t)=>{"use strict";t.d(r,{J:()=>d});var a=t(4),s=t(3176),n=t(4985),l=t(4552),i=t(8347);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.b,{ref:r,className:(0,i.cn)(o(),t),...s})});d.displayName=n.b.displayName},4897:(e,r,t)=>{"use strict";t.d(r,{default:()=>f});var a=t(4),s=t(3176),n=t(4552),l=t(8347);let i=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,l.cn)(i({variant:t}),r),...s})}function d(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,l.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",r),...t})}let u=(0,t(7561).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var c=t(9306),m=t(1253);function f(e){let{endTime:r,isActive:t,hasWinner:n,winnerName:l}=e,[i,f]=(0,s.useState)(0),[p,x]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let e=()=>{let e=new Date().getTime(),t=new Date(r).getTime()-e;t<=0?(x(!0),f(0)):(x(!1),f(t))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[r]),p||!t)?(0,a.jsxs)(o,{className:"border-red-200 bg-red-50",children:[(0,a.jsx)(u,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)(d,{className:"text-red-800",children:[(0,a.jsx)("strong",{children:"Subasta Finalizada"}),n&&l&&(0,a.jsxs)("span",{className:"block mt-1",children:["Ganador: ",l]})]})]}):i>0&&i<36e5?(0,a.jsxs)(o,{className:"border-orange-200 bg-orange-50 animate-pulse",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-orange-600"}),(0,a.jsxs)(d,{className:"text-orange-800",children:[(0,a.jsx)("strong",{children:"\xa1\xdaltima hora!"})," Esta subasta terminar\xe1 pronto. \xa1No pierdas la oportunidad de pujar!"]})]}):(0,a.jsxs)(o,{className:"border-blue-200 bg-blue-50",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(d,{className:"text-blue-800",children:[(0,a.jsx)("strong",{children:"Subasta Activa"})," - Puedes hacer pujas hasta que termine el tiempo."]})]})}},4985:(e,r,t)=>{"use strict";t.d(r,{b:()=>u});var a=t(3176);function s(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}t(6073);var n=t(4),l=Symbol("radix.slottable");function i(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}var o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=function(e){let r=function(e){let r=a.forwardRef((e,r)=>{let{children:t,...n}=e;if(a.isValidElement(t)){var l;let e,i;let o=(l=t,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,r){let t={...r};for(let a in r){let s=e[a],n=r[a];/^on[A-Z]/.test(a)?s&&n?t[a]=(...e)=>{let r=n(...e);return s(...e),r}:s&&(t[a]=s):"style"===a?t[a]={...s,...n}:"className"===a&&(t[a]=[s,n].filter(Boolean).join(" "))}return{...e,...t}}(n,t.props);return t.type!==a.Fragment&&(d.ref=r?function(...e){return r=>{let t=!1,a=e.map(e=>{let a=s(e,r);return t||"function"!=typeof a||(t=!0),a});if(t)return()=>{for(let r=0;r<a.length;r++){let t=a[r];"function"==typeof t?t():s(e[r],null)}}}}(r,o):o),a.cloneElement(t,d)}return a.Children.count(t)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=a.forwardRef((e,t)=>{let{children:s,...l}=e,o=a.Children.toArray(s),d=o.find(i);if(d){let e=d.props.children,s=o.map(r=>r!==d?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(r,{...l,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,n.jsx)(r,{...l,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}(`Primitive.${r}`),l=a.forwardRef((e,a)=>{let{asChild:s,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(s?t:r,{...l,ref:a})});return l.displayName=`Primitive.${r}`,{...e,[r]:l}},{}),d=a.forwardRef((e,r)=>(0,n.jsx)(o.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d.displayName="Label";var u=d},7274:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7561).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9773:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7561).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[713,30,733,756,55,631,476,571,358],()=>r(2946)),_N_E=e.O()}]);